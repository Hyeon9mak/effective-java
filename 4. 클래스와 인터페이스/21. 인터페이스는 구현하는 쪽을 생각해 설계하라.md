# 아이템 21. 인터페이스는 구현하는 쪽을 생각해 설계하라

> "자바 8 이전에는 기존 구현체를 깨뜨리지 않고는 인터페이스에 메서드를 추가할 방법이 없었다. 
> 인터페이스에 메서드를 추가하면 보통은 컴파일 오류가 나는데, 추가된 메서드가 우연히 기존 구현체에 이미 존재할 가능성이 아주 낮기 때문이다.
> 자바 8에 들어서 기존 인터페이스에 메서드를 추가할 수 있도록 default 메서드를 소개했지만, 위험이 완전히 사라진 것은 아니다."

책에서 거론된 이야기를 더 잘 이해하기 위해 우선 인터페이스와 `default` 메서드에 대해 간단히 알아보자.

<br>

### 인터페이스(interface)
인터페이스란 상수(static final)와 추상 메서드(abstract method)의 집합이다. 
생성자를 가질 수 없다. (따라서 객체화가 불가능 하다.) 
인터페이스에 선언된 상수와 추상 메서드는 public static final 과 public abstract 키워드를 
컴파일 타임에 자동으로 생성해주기 때문에 생략이 가능하다. 
인터페이스는 다중상속을 지원하며, 하나의 구현체에서 여러개의 인터페이스를 구현할 수 있다. 
'구현체'란 **인터페이스를 직접 구현한 클래스**를 의미한다. 다른 이름으로는 **구현 클래스**, **실체 클래스** 라고 불린다. 

### default 메서드
인터페이스는 메서드에 대한 선언만 가능하기 때문에, 실제 로직은 포함될 수 없다. 
하지만 자바8에서 이러한 룰을 깨트리는 기능이 등장하는데, 그것이 `default` 메서드다. 
메소드 선언시 `default`를 명시하게 되면 인터페이스 내부에서도 동작 코드가 포함된 메서드를 선언 할 수 있다.

```java
interface JavaStudyable {  // ~able 네이밍 규칙을 가진다.
 
    public abstarct void study();   // 일반적인 메서드 선언

    public default void rest() {    // default 메서드 선언 후 구현
        System.out.println("쉽시다!");
    }

}
```

### default 메서드 사용 예시
```java
// Test 1
interface DefaultTestable {

    public abstract void study();

    public abstract void rest();

}

class RealTest implements DefaultTestable { // 컴파일 에러!

    @Override
    public void study() {
        System.out.println("공부합시다.");
    }

}
```
`DefaultTestable` 인터페이스에  `rest()` 메서드가 구현되지 않아 컴파일 에러가 발생한다.

```java
// Test 2
interface DefaultTestable {

    public abstract void study();

    public default void rest(){
        System.out.println("쉽시다.");
    }

}

class RealTest implements DefaultTestable {

    @Override
    public void study() {
        System.out.println("공부합시다.");
    }

}
```
```
공부합시다.
쉽시다.
```
`default` 키워드를 통해 구현된 메서드가 `RealTest` 객체를 통해 정상 동작하는 것을 확인할 수 있다.

```java
// Test 3
interface DefaultTestable {

    public abstract void study();

    public default void rest(){
        System.out.println("쉽시다.");
    }

}

class RealTest implements DefaultTestable {

    @Override
    public void study() {
        System.out.println("공부합시다.");
    }

    @Override
    public void rest() {
        System.out.println("할 건 하고 쉬어야죠.");
    }
}
```
```
공부합시다.
할 건 하고 쉬어야죠.
```
당연히 오버라이딩도 가능하다.